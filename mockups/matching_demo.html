<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LearnSphere AI Mentor & Gig Matching Demo - Personalized career development">
    <title>Demo: AI Mentor & Gig Matching</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --color-primary: #6366f1; /* indigo-500 */
            --color-primary-dark: #4f46e5; /* indigo-700 */
            --color-secondary: #8b5cf6; /* purple-500 */
            --color-secondary-dark: #7c3aed; /* purple-700 */
            --color-tertiary: #14b8a6; /* teal-500 */
            --color-tertiary-dark: #0d9488; /* teal-600 */
            --color-success: #16a34a; /* green-600 */
            --color-warning: #f59e0b; /* amber-500 */
            --color-text: #374151; /* gray-700 */
            --color-text-light: #6b7280; /* gray-500 */
            --color-background: #f9fafb; /* gray-50 */
            --color-card: #ffffff;
            --color-card-subtle: #f3f4f6; /* gray-100 */
            --border-color: #e5e7eb; /* gray-200 */
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition-standard: 0.3s ease;
            --border-radius: 0.5rem; /* rounded-lg */
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--color-background); 
            color: var(--color-text);
            line-height: 1.6;
        }

        .loader { 
            border: 4px solid var(--color-card-subtle); 
            border-radius: 50%; 
            width: 24px; 
            height: 24px; 
            animation: spin 1s linear infinite; 
            display: inline-block; 
            margin-right: 8px; 
            vertical-align: middle; 
        }

        .loader-mentor { border-top-color: var(--color-secondary); }
        .loader-gig { border-top-color: var(--color-tertiary); }

        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }

        .fade-in { 
            animation: fadeIn 0.5s ease-in-out; 
        }

        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(5px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .match-card { 
            transition: box-shadow var(--transition-standard); 
            background-color: var(--color-card-subtle);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 1rem;
        }

        .match-card:hover { 
            box-shadow: var(--shadow-md); 
        }

        .match-score { 
            font-weight: 600; 
            font-size: 1.125rem; /* text-lg */
            border-radius: 0.25rem;
            padding: 0.1rem 0.4rem;
            background-color: rgba(0,0,0,0.03);
        }
        .match-score.high { color: var(--color-success); border: 1px solid currentColor; } 
        .match-score.medium { color: var(--color-warning); border: 1px solid currentColor; }
        .match-score.low { color: var(--color-text-light); }

        .explanation-box { 
            background-color: var(--color-card-subtle); 
            border-left: 4px solid var(--color-secondary); 
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
        }

        .primary-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 0.75rem 1.5rem;
            border: 1px solid transparent;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            font-size: 1rem; /* text-base */
            font-weight: 500; /* font-medium */
            color: white;
            transition: all var(--transition-standard);
        }
        .primary-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.4); /* Ring effect */
        }
        .primary-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .mentor-button { background-color: var(--color-secondary); }
        .mentor-button:hover:not(:disabled) { background-color: var(--color-secondary-dark); }

        .gig-button { background-color: var(--color-tertiary); }
        .gig-button:hover:not(:disabled) { background-color: var(--color-tertiary-dark); }
        
        .secondary-button {
            font-size: 0.75rem; /* text-xs */
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            transition: background-color var(--transition-standard);
        }
        .mentor-secondary-button {
            background-color: #ede9fe; /* purple-100 */
            color: #6d28d9; /* purple-800 */
        }
        .mentor-secondary-button:hover { background-color: #ddd6fe; /* purple-200 */ }

        .gig-secondary-button {
            background-color: #ccfbf1; /* teal-100 */
            color: #0f766e; /* teal-700 */
        }
        .gig-secondary-button:hover { background-color: #99f6e4; /* teal-200 */ }

        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

    </style>
</head>
<body class="p-4 md:p-8">
    <header class="max-w-7xl mx-auto mb-6">
        <div class="flex flex-wrap justify-between items-center border-b pb-4">
            <h1 class="text-2xl font-bold text-indigo-700">
                <i class="fas fa-cogs mr-2" aria-hidden="true"></i>
                AI Mentor & Gig Matching Demo
            </h1>
            <a href="../index.html#features" class="text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors">&larr; Back to Features</a>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
        <section aria-labelledby="matching-heading" class="md:col-span-2 bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <div class="mb-8 p-4 bg-indigo-50 rounded-md border border-indigo-200">
                <h2 id="profile-heading" class="text-lg font-semibold text-indigo-800 mb-2">Your Profile Summary</h2>
                <dl class="text-sm text-gray-700 space-y-1">
                    <div><dt class="inline font-semibold">Name:</dt> <dd class="inline">Somchai T.</dd></div>
                    <div><dt class="inline font-semibold">Current Role:</dt> <dd class="inline">Sales Rep</dd></div>
                    <div><dt class="inline font-semibold">Aspiration:</dt> <dd class="inline">Area Sales Manager</dd></div>
                    <div><dt class="inline font-semibold">Development Goals:</dt> <dd class="inline">Improve Strategic Planning, Gain Leadership Experience.</dd></div>
                </dl>
            </div>

            <h2 id="matching-heading" class="sr-only">Matching Sections</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <section aria-labelledby="mentor-heading">
                    <h3 id="mentor-heading" class="text-xl font-semibold mb-2 text-gray-800">Find a Mentor</h3>
                    <p class="text-sm text-gray-600 mb-4">AI suggests mentors based on your goals, skills needed, and compatibility.</p>
                    <button id="find-mentor-btn" class="primary-button mentor-button">
                        <i class="fas fa-user-friends mr-2" aria-hidden="true"></i>Find AI Mentor Matches
                    </button>
                    <div id="mentor-loading" class="hidden text-center mt-4 text-purple-700" aria-live="polite">
                        <div class="loader loader-mentor"></div> Finding best matches...
                    </div>
                    <div id="mentor-results" class="mt-6 space-y-4 hidden" aria-live="polite">
                        <!-- Mentor results will be injected here -->
                        <p class="sr-only">Mentor results loaded.</p>
                    </div>
                </section>
                
                <section aria-labelledby="gig-heading">
                    <h3 id="gig-heading" class="text-xl font-semibold mb-2 text-gray-800">Find Development Gigs</h3>
                    <p class="text-sm text-gray-600 mb-4">Discover short-term projects to build skills relevant to your goals.</p>
                    <button id="find-gig-btn" class="primary-button gig-button">
                        <i class="fas fa-briefcase mr-2" aria-hidden="true"></i>Find AI Gig Matches
                    </button>
                    <div id="gig-loading" class="hidden text-center mt-4 text-teal-700" aria-live="polite">
                        <div class="loader loader-gig"></div> Searching for opportunities...
                    </div>
                    <div id="gig-results" class="mt-6 space-y-4 hidden" aria-live="polite">
                        <!-- Gig results will be injected here -->
                        <p class="sr-only">Gig results loaded.</p>
                    </div>
                </section>
            </div>
        </section>

        <aside class="explanation-box">
            <!-- Add data-input map section before the How AI Enhances section -->
            <div class="mb-6 pb-6 border-b border-gray-200">
                <h3 class="text-xl font-semibold mb-4 text-purple-800">Data-Input Map</h3>
                <div class="bg-purple-50 p-4 rounded-lg border border-purple-100 transition-all hover:shadow-md">
                    <div class="flex items-center mb-2">
                        <div class="bg-purple-100 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-2">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <h4 class="font-semibold text-purple-700">Mentor & Gig Matching</h4>
                    </div>
                    <div class="ml-8 text-sm">
                        <p class="text-gray-500 mb-1"><span class="text-gray-700 font-medium">Implementation files:</span> mentor_match.html, mobility_recommender.html</p>
                        <p class="text-gray-700 font-medium mb-1">Minimal data requirements:</p>
                        <ul class="list-disc list-inside text-gray-600 pl-2 space-y-1">
                            <li>Employee skills, goals, MBTI/DISC (opt.)</li>
                            <li>Mentor/project profiles (expertise, capacity, location)</li>
                            <li>Previous match feedback scores</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <h2 class="text-xl font-semibold mb-4 text-purple-800"><i class="fas fa-lightbulb mr-2" aria-hidden="true"></i>How AI Enhances Matching</h2>
            <div class="space-y-4 text-sm text-gray-700">
                <div>
                    <h3 class="font-semibold text-gray-900">Pain Point Addressed:</h3>
                    <p>Finding the right mentor or relevant short-term project (gig) is often manual, relies on personal networks, and can lead to inconsistent or suboptimal matches.</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">AI Solution:</h3>
                    <ul class="list-disc list-outside pl-5 space-y-1">
                        <li><strong>Mentor-Match Engine:</strong> Uses embeddings (numerical representations) of employee skills, development goals, aspirations, and potentially personality traits (from assessments or feedback). It compares these embeddings with those of potential mentors (considering their expertise, experience, and mentoring style) to rank and recommend the best matches.</li>
                        <li><strong>Mobility/Gig Recommender:</strong> Analyzes available short-term projects, assignments, or even business trips. It matches these opportunities based on the skills required for the gig versus the skills the employee wants to develop, employee readiness level, and stated travel/mobility preferences.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">Example Scenario:</h3>
                    <p>Somchai, aiming for Area Sales Manager, needs 'Strategic Planning'. The AI finds a gig "Assist Regional Sales Planning Q3" requiring that skill. Simultaneously, it identifies Supachai K. as a top mentor match due to his 'Sales Strategy' expertise and Somchai's leadership goal.</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">Benefits:</h3>
                    <ul class="list-disc list-outside pl-5 space-y-1">
                        <li><strong class="text-green-600">Stronger Mentorship:</strong> Creates more effective mentoring relationships based on deeper compatibility.</li>
                        <li><strong class="text-green-600">Targeted Skill Development:</strong> Connects employees with gigs that directly address their development needs.</li>
                        <li><strong class="text-green-600">Increased Engagement:</strong> Makes finding growth opportunities easier and more relevant.</li>
                        <li><strong class="text-green-600">Agile Talent Deployment:</strong> Helps quickly find internal talent for short-term needs or assignments.</li>
                        <li><strong class="text-green-600">Supports 70-20-10 Model:</strong> Directly facilitates the crucial 20% (learning from others) and 70% (on-the-job experience) components.</li>
                    </ul>
                </div>
            </div>
        </aside>
    </main>

    <script>
        // AI Mentor & Gig Matching Demo Logic
        (function() {
            // --- Configuration ---
            const SIMULATION_DELAY = {
                MENTOR: 1500,
                GIG: 1800
            };

            // --- Mock Data ---
            // In a real application, this would come from an API
            const MOCK_DATA = {
                mentors: [
                    { id: 'm1', name: "Supachai K.", title: "Sales Director", expertise: ["Sales Strategy", "Team Leadership"], match: 92, img: "https://placehold.co/60x60/667eea/ffffff?text=SK" },
                    { id: 'm2', name: "Vichai P.", title: "Principal Engineer", expertise: ["Mentoring", "Problem Solving"], match: 85, img: "https://placehold.co/60x60/764ba2/ffffff?text=VP" },
                    { id: 'm3', name: "Anya R.", title: "Engineering Lead", expertise: ["Project Management", "Cross-functional Teams"], match: 78, img: "https://placehold.co/60x60/9f7aea/ffffff?text=AR" }
                ],
                gigs: [
                    { id: 'g1', title: "Assist Regional Sales Planning Q3", skills: ["Strategic Planning", "Excel"], duration: "4 weeks (Part-time)", match: 88 },
                    { id: 'g2', title: "Shadow Area Sales Manager (Central Region)", skills: ["Leadership", "Sales Operations"], duration: "2 weeks", match: 82 },
                    { id: 'g3', title: "Cross-functional Project: New Product Launch Team", skills: ["Collaboration", "Presentation"], duration: "6 weeks (10 hrs/week)", match: 75 }
                ]
            };

            // --- DOM Element References ---
            const elements = {
                findMentorBtn: document.getElementById('find-mentor-btn'),
                mentorLoading: document.getElementById('mentor-loading'),
                mentorResultsContainer: document.getElementById('mentor-results'),
                findGigBtn: document.getElementById('find-gig-btn'),
                gigLoading: document.getElementById('gig-loading'),
                gigResultsContainer: document.getElementById('gig-results')
            };

            // --- Utility Functions ---
            function getMatchScoreClass(score) {
                if (score >= 90) return 'high';
                if (score >= 80) return 'medium';
                return 'low';
            }

            function showElement(element) {
                element?.classList.remove('hidden');
            }

            function hideElement(element) {
                element?.classList.add('hidden');
            }

            function disableButton(button) {
                if (button) button.disabled = true;
            }

            function enableButton(button) {
                if (button) button.disabled = false;
            }
            
            function simulateApiCall(delay) {
                return new Promise(resolve => setTimeout(resolve, delay));
            }

            // --- UI Rendering Functions ---
            function createMentorCardHTML(mentor) {
                const scoreClass = getMatchScoreClass(mentor.match);
                // Use textContent for security unless HTML is required
                const name = mentor.name || 'Unnamed Mentor';
                const title = mentor.title || 'No Title';
                const expertise = mentor.expertise?.join(', ') || 'N/A';
                
                return `
                    <article class="match-card flex items-start fade-in" aria-labelledby="mentor-name-${mentor.id}">
                        <img src="${mentor.img || 'https://placehold.co/60x60/cccccc/ffffff?text=??'}" alt="" class="w-12 h-12 rounded-full mr-4 flex-shrink-0">
                        <div class="flex-grow">
                            <div class="flex justify-between items-center mb-1">
                                <h4 id="mentor-name-${mentor.id}" class="font-semibold text-gray-900">${name}</h4>
                                <span class="match-score ${scoreClass}">${mentor.match}%</span>
                            </div>
                            <p class="text-xs text-gray-500 mb-1">${title}</p>
                            <p class="text-xs text-gray-700 mb-2">
                                <strong>Relevant Expertise:</strong> 
                                <span class="expertise-list">${expertise}</span>
                             </p>
                            <button class="secondary-button mentor-secondary-button" data-action="request-mentor" data-mentor-name="${name}">Request Mentorship</button>
                        </div>
                    </article>
                `;
            }

            function createGigCardHTML(gig) {
                const scoreClass = getMatchScoreClass(gig.match);
                const title = gig.title || 'Unnamed Gig';
                const skills = gig.skills?.join(', ') || 'N/A';
                const duration = gig.duration || 'N/A';

                return `
                    <article class="match-card fade-in" aria-labelledby="gig-title-${gig.id}">
                        <div class="flex justify-between items-center mb-1">
                            <h4 id="gig-title-${gig.id}" class="font-semibold text-gray-900">${title}</h4>
                            <span class="match-score ${scoreClass}">${gig.match}%</span>
                        </div>
                        <p class="text-xs text-gray-700 mb-1"><strong>Skills Developed:</strong> ${skills}</p>
                        <p class="text-xs text-gray-500 mb-2"><strong>Est. Duration:</strong> ${duration}</p>
                        <button class="secondary-button gig-secondary-button" data-action="express-interest" data-gig-title="${title}">Express Interest</button>
                    </article>
                `;
            }

            function displayResults(container, items, cardCreator) {
                if (!container) return;
                container.innerHTML = items.map(cardCreator).join('');
                showElement(container);
                // Add sr-only text for screen reader confirmation
                const confirmation = document.createElement('p');
                confirmation.className = 'sr-only';
                confirmation.textContent = `${items.length > 0 ? items.length : 'No'} results found.`;
                container.appendChild(confirmation);
            }
            
            function updateButtonState(button, text = 'Done', disable = true) {
                if(button) {
                    button.textContent = text;
                    button.disabled = disable;
                }
            }

            // --- Event Handlers ---
            async function handleFindMatches(type) {
                const config = type === 'mentor' ? 
                    { 
                        btn: elements.findMentorBtn, 
                        loading: elements.mentorLoading, 
                        container: elements.mentorResultsContainer, 
                        delay: SIMULATION_DELAY.MENTOR,
                        data: MOCK_DATA.mentors,
                        cardCreator: createMentorCardHTML
                    } : 
                    { 
                        btn: elements.findGigBtn, 
                        loading: elements.gigLoading, 
                        container: elements.gigResultsContainer, 
                        delay: SIMULATION_DELAY.GIG,
                        data: MOCK_DATA.gigs,
                        cardCreator: createGigCardHTML
                    };
                
                if (!config.btn || !config.loading || !config.container) return;

                showElement(config.loading);
                hideElement(config.container);
                disableButton(config.btn);
                config.container.innerHTML = ''; // Clear previous results
                
                // Simulate API call
                await simulateApiCall(config.delay);
                
                hideElement(config.loading);
                enableButton(config.btn);
                displayResults(config.container, config.data, config.cardCreator);
            }

            function handleResultActionClick(event) {
                const button = event.target.closest('button[data-action]');
                if (!button || button.disabled) return; // Ignore if not a button or already clicked

                const action = button.dataset.action;

                try {
                    if (action === 'request-mentor') {
                        const mentorName = button.dataset.mentorName;
                        alert(`Mentorship request sent to ${mentorName}. (Simulation)`);
                        updateButtonState(button, 'Requested');
                    } else if (action === 'express-interest') {
                        const gigTitle = button.dataset.gigTitle;
                        alert(`Interest expressed for '${gigTitle}'. You will be contacted if selected. (Simulation)`);
                        updateButtonState(button, 'Interest Expressed');
                    }
                } catch (error) {
                    console.error("Error handling action:", error);
                    alert("An error occurred. Please try again.");
                     // Re-enable button if something went wrong before visual update
                    updateButtonState(button, button.dataset.action === 'request-mentor' ? 'Request Mentorship' : 'Express Interest', false);
                }
            }

            // --- Initialization ---
            function initialize() {
                // Check if all essential elements exist
                if (Object.values(elements).some(el => !el)) {
                    console.error("Initialization failed: Required DOM elements for matching demo not found.");
                    return;
                }

                elements.findMentorBtn.addEventListener('click', () => handleFindMatches('mentor'));
                elements.findGigBtn.addEventListener('click', () => handleFindMatches('gig'));
                
                // Use event delegation for result buttons
                elements.mentorResultsContainer.addEventListener('click', handleResultActionClick);
                elements.gigResultsContainer.addEventListener('click', handleResultActionClick);
                
                console.log("AI Matching Demo Initialized");
            }

            // Run initialization when the DOM is ready
            document.addEventListener('DOMContentLoaded', initialize);

        })();
    </script>
</body>
</html> 