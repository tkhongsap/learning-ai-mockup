<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LearnSphere AI 70-20-10 IDP Builder Demo - Structured development plans">
    <title>Demo: AI 70-20-10 IDP Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --color-primary: #6366f1; /* indigo-500 */
            --color-primary-dark: #4f46e5; /* indigo-700 */
            --color-70: #2563eb; /* blue-600 */
            --color-70-border: #3b82f6; /* blue-500 */
            --color-20: #9333ea; /* purple-600 */
            --color-20-border: #a855f7; /* purple-500 */
            --color-10: #16a34a; /* green-600 */
            --color-10-border: #22c55e; /* green-500 */
            --color-success: #16a34a; /* green-600 */
            --color-success-dark: #15803d; /* green-700 */
            --color-text: #374151; /* gray-700 */
            --color-text-light: #6b7280; /* gray-500 */
            --color-text-dark: #1f2937; /* gray-800 */
            --color-background: #f9fafb; /* gray-50 */
            --color-card: #ffffff;
            --color-card-subtle: #f3f4f6; /* gray-100 */
            --border-color: #e5e7eb; /* gray-200 */
            --border-color-light: #f3f4f6; /* gray-100 */
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition-standard: 0.3s ease;
            --border-radius: 0.5rem; /* rounded-lg */
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--color-background); 
            color: var(--color-text);
            line-height: 1.6;
        }

        .loader { 
            border: 4px solid var(--border-color-light); 
            border-top: 4px solid var(--color-primary); 
            border-radius: 50%; 
            width: 24px; 
            height: 24px; 
            animation: spin 1s linear infinite; 
            display: inline-block; 
            margin-right: 8px; 
            vertical-align: middle; 
        }

        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }

        .fade-in { 
            animation: fadeIn 0.5s ease-in-out forwards; 
        }
        .fade-out { 
            animation: fadeOut 0.3s ease-in-out forwards; 
        }

        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        @keyframes fadeOut { 
            from { opacity: 1; } 
            to { opacity: 0; } 
        }

        .idp-section { margin-bottom: 2rem; }
        .idp-section h3 {
            display: flex;
            align-items: baseline;
            border-bottom: 2px solid;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
            font-size: 1.125rem; /* text-lg */
            font-weight: 600; /* font-semibold */
        }
        .idp-section .percentage {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            margin-right: 0.5rem;
            line-height: 1;
        }
        .idp-section-70 h3 { color: var(--color-70); border-color: var(--color-70-border); }
        .idp-section-20 h3 { color: var(--color-20); border-color: var(--color-20-border); }
        .idp-section-10 h3 { color: var(--color-10); border-color: var(--color-10-border); }

        .idp-item {
            border-bottom: 1px dashed var(--border-color);
            padding-bottom: 0.75rem;
            margin-bottom: 0.75rem;
            font-size: 0.875rem; /* text-sm */
        }
        .idp-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0;}
        .idp-item strong { font-weight: 500; color: var(--color-text-dark); }
        .idp-item .focus-area {
            font-size: 0.75rem; /* text-xs */
            color: var(--color-text-light);
            display: block;
            margin-top: 0.25rem;
        }
        .idp-item .details-link {
            color: var(--color-primary);
            text-decoration: none;
            font-size: 0.75rem; /* text-xs */
            margin-left: 0.5rem;
            transition: color var(--transition-standard);
        }
        .idp-item .details-link:hover {
            color: var(--color-primary-dark);
            text-decoration: underline;
        }

        .explanation-box { 
            background-color: var(--color-card-subtle); 
            border-left: 4px solid var(--color-70); 
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
        }
        
        /* Button Styles */
        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem; /* px-4 py-2 */
            border: 1px solid transparent;
            border-radius: var(--border-radius);
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            transition: all var(--transition-standard);
            cursor: pointer;
        }
        .button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.4); /* Ring effect for primary */
        }
        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .button-primary {
             padding: 0.75rem 1.5rem; /* px-6 py-3 */
             font-size: 1rem; /* text-base */
             background-color: var(--color-primary);
             color: white;
             box-shadow: var(--shadow-md);
        }
        .button-primary:hover:not(:disabled) { background-color: var(--color-primary-dark); }

        .button-secondary {
            background-color: white;
            color: var(--color-text);
            border-color: var(--border-color);
        }
        .button-secondary:hover:not(:disabled) { background-color: var(--color-background); }

        .button-success {
            background-color: var(--color-success);
            color: white;
            box-shadow: var(--shadow-md);
        }
        .button-success:hover:not(:disabled) { background-color: var(--color-success-dark); }
        .button-success:focus { box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.4); }

        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

    </style>
</head>
<body class="p-4 md:p-8">
    <header class="max-w-7xl mx-auto mb-6">
        <div class="flex flex-wrap justify-between items-center border-b pb-4">
            <h1 class="text-2xl font-bold text-indigo-700">
                <i class="fas fa-book-open mr-2" aria-hidden="true"></i>
                AI 70-20-10 IDP Builder Demo
            </h1>
            <a href="../index.html#features" class="text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors">&larr; Back to Features</a>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
        <section aria-labelledby="idp-main-heading" class="md:col-span-2 bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <div class="mb-6 p-4 bg-indigo-50 rounded-md border border-indigo-200">
                <h2 id="profile-heading" class="text-lg font-semibold text-indigo-800 mb-2">Development Plan For: Somchai T.</h2>
                <dl class="text-sm text-gray-700 space-y-1">
                    <div><dt class="inline font-semibold">Current Role:</dt> <dd class="inline">Sales Rep</dd></div>
                    <div><dt class="inline font-semibold">Target Aspiration:</dt> <dd class="inline">Area Sales Manager</dd></div>
                    <div><dt class="inline font-semibold">Key Development Areas (from Gaps):</dt> <dd class="inline">Strategic Planning, Leadership, Advanced Negotiation.</dd></div>
                </dl>
            </div>
            
            <div class="text-center mb-6">
                <button id="generate-idp-btn" class="button button-primary">
                    <i class="fas fa-magic mr-2" aria-hidden="true"></i>Generate IDP with AI (70-20-10)
                </button>
                <div id="idp-loading" class="hidden text-center mt-4 text-indigo-600" aria-live="polite">
                    <div class="loader"></div> Generating balanced development plan...
                </div>
            </div>
            
            <div id="idp-results" class="hidden" aria-live="polite">
                <h2 id="idp-main-heading" class="text-xl font-bold text-center mb-6 text-gray-800">Generated Individual Development Plan (Draft)</h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <section aria-labelledby="idp-70-heading" class="idp-section idp-section-70 lg:col-span-2">
                        <h3 id="idp-70-heading">
                            <span class="percentage">70%</span> On-the-Job Experience & Practice
                        </h3>
                        <div id="idp-70-content" class="space-y-3"></div>
                    </section>
                    
                    <div class="space-y-8 lg:col-span-1">
                        <section aria-labelledby="idp-20-heading" class="idp-section idp-section-20">
                            <h3 id="idp-20-heading">
                                <span class="percentage">20%</span> Learning from Others
                            </h3>
                            <div id="idp-20-content" class="space-y-3"></div>
                        </section>
                        
                        <section aria-labelledby="idp-10-heading" class="idp-section idp-section-10">
                            <h3 id="idp-10-heading">
                                <span class="percentage">10%</span> Formal Learning
                            </h3>
                            <div id="idp-10-content" class="space-y-3"></div>
                        </section>
                    </div>
                </div>
                <div class="mt-8 pt-6 border-t flex justify-end space-x-3">
                    <button class="button button-secondary">Edit Plan</button>
                    <button class="button button-success">Submit for Approval</button>
                </div>
                 <p class="sr-only">IDP results generated.</p>
            </div>
        </section>

        <aside class="explanation-box">
            <!-- Add data-input map section before the How AI Enhances section -->
            <div class="mb-6 pb-6 border-b border-gray-200">
                <h3 class="text-xl font-semibold mb-4 text-blue-800">Data-Input Map</h3>
                <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 transition-all hover:shadow-md">
                    <div class="flex items-center mb-2">
                        <div class="bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-2">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <h4 class="font-semibold text-blue-700">70-20-10 IDP Builder</h4>
                    </div>
                    <div class="ml-8 text-sm">
                        <p class="text-gray-500 mb-1"><span class="text-gray-700 font-medium">Implementation file:</span> course_recommender.html</p>
                        <p class="text-gray-700 font-medium mb-1">Minimal data requirements:</p>
                        <ul class="list-disc list-inside text-gray-600 pl-2 space-y-1">
                            <li>LMS catalogue: course ID, mode (70/20/10), mapped skills, cost</li>
                            <li>Gap list from Skill-Gap engine</li>
                            <li>Manager budget limits (optional)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <h2 class="text-xl font-semibold mb-4 text-blue-800"><i class="fas fa-lightbulb mr-2" aria-hidden="true"></i>How AI Enhances IDP Building</h2>
            <div class="space-y-4 text-sm text-gray-700">
                <div>
                    <h3 class="font-semibold text-gray-900">Pain Point Addressed:</h3>
                    <p>Employees and managers struggle to create well-balanced Individual Development Plans (IDPs) that follow the 70-20-10 model (70% on-the-job, 20% social, 10% formal). Manually finding relevant activities for each category is time-consuming.</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">AI Solution:</h3>
                    <ul class="list-disc list-outside pl-5 space-y-1">
                        <li><strong>Skill-Gap Analyzer:</strong> (Prerequisite) Identifies the key skills the employee needs to develop for their target role or aspiration.</li>
                        <li><strong>Course/Activity Recommender:</strong> Based on the identified skill gaps, the AI searches the LMS catalog, internal project databases, and mentor pool.</li>
                        <li><strong>70-20-10 Balancer:</strong> Selects a mix of activities corresponding to the 70-20-10 framework:
                            <ul class="list-['-_'] list-outside pl-5 mt-1">
                                <li>**70%:** Suggests stretch assignments, job shadowing, leading small projects, presenting findings (On-the-Job).</li>
                                <li>**20%:** Recommends specific mentors (using Mentor Matcher), communities of practice, or informational interviews (Social Learning).</li>
                                <li>**10%:** Selects relevant formal courses, workshops, or micro-learnings from the catalog (Formal Learning).</li>
                            </ul>
                        </li>
                        <li><strong>One-Click Generation:</strong> Provides a pre-filled IDP draft with balanced activities, ready for review and tweaking by the employee and manager.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">Example Scenario:</h3>
                    <p>Somchai needs "Strategic Planning" and "Leadership". He clicks "Generate IDP". The AI suggests: (70%) Assist with territory planning, lead team huddle; (20%) Request mentorship from Sales Director; (10%) Complete 'Strategic Planning Essentials' course.</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">Benefits:</h3>
                    <ul class="list-disc list-outside pl-5 space-y-1">
                        <li><strong class="text-green-600">Faster IDP Creation:</strong> Reduces plan creation time significantly (e.g., from 45 min to 10 min).</li>
                        <li><strong class="text-green-600">Balanced Development:</strong> Ensures employees get a mix of learning experiences aligned with best practices.</li>
                        <li><strong class="text-green-600">Actionable Plans:</strong> Provides concrete, relevant activities instead of vague goals.</li>
                        <li><strong class="text-green-600">Improved Focus:</strong> Directly links development activities to identified skill gaps and career aspirations.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900">Related AI:</h3>
                    <p>This feature leverages outputs from the Skill-Gap Analyzer, Course Recommender, and Mentor/Gig Matching engines.</p>
                </div>
            </div>
        </aside>
    </main>

    <script>
        // AI 70-20-10 IDP Builder Demo Logic
        (function() {
            // --- Configuration ---
            const SIMULATION_DELAY = 2500;

            // --- Mock Data ---
            // In a real application, this would come from an API based on user profile and skill gaps
            const MOCK_IDP_DATA = {
                '70': [
                    { id: 'j1', title: "Assist Area Sales Manager with Q3 territory planning", focus: "Strategic Planning" },
                    { id: 'j2', title: "Lead weekly team huddle for 1 month", focus: "Leadership" },
                    { id: 'j3', title: "Observe 3 complex negotiation calls with Senior Reps", focus: "Negotiation" },
                    { id: 'j4', title: "Present monthly sales figures at team meeting", focus: "Presentation, Leadership" }
                ],
                '20': [
                    { id: 's1', title: "Request mentorship from Supachai K. (Sales Director)", focus: "Sales Strategy, Leadership", link: "#" }, // Link could point to mentor profile/request page
                    { id: 's2', title: "Join 'Future Leaders' Yammer group", focus: "Networking, Leadership" },
                    { id: 's3', title: "Conduct informational interview with a Regional Manager", focus: "Career Pathing" }
                ],
                '10': [
                    { id: 'f1', title: "Complete 'Strategic Planning Essentials' course", focus: "Strategic Planning", link: "#" }, // Link could point to LMS course
                    { id: 'f2', title: "Attend 'Advanced Negotiation Tactics' workshop", focus: "Negotiation", link: "#" } // Link could point to workshop registration
                ]
            };

            // --- DOM Element References ---
            const elements = {
                generateBtn: document.getElementById('generate-idp-btn'),
                loadingEl: document.getElementById('idp-loading'),
                resultsEl: document.getElementById('idp-results'),
                content70: document.getElementById('idp-70-content'),
                content20: document.getElementById('idp-20-content'),
                content10: document.getElementById('idp-10-content')
            };

            // --- Utility Functions ---
            function showElement(element) {
                element?.classList.remove('hidden');
            }

            function hideElement(element) {
                element?.classList.add('hidden');
            }
            
            function clearContainer(element) {
                if (element) element.innerHTML = '';
            }

            function disableButton(button) {
                if (button) button.disabled = true;
            }

            function enableButton(button) {
                if (button) button.disabled = false;
            }

            function simulateApiCall(delay) {
                return new Promise(resolve => setTimeout(resolve, delay));
            }

            // --- UI Rendering Functions ---
            function createIdpItemHTML(item) {
                const title = item.title || 'Activity Title Missing';
                const focus = item.focus || 'N/A';
                const linkHTML = (item.link && item.link !== "#") 
                    ? `<a href="${item.link}" target="_blank" class="details-link">(Details â†’)</a>` 
                    : '';
                    
                return `
                    <div class="idp-item" id="item-${item.id || Math.random().toString(36).substring(7)}">
                        <p><strong>${title}</strong></p>
                        <span class="focus-area">Focus Area(s): ${focus}${linkHTML}</span>
                    </div>
                `;
            }

            function displayIdpResults(data) {
                const containers = {
                    '70': elements.content70,
                    '20': elements.content20,
                    '10': elements.content10
                };

                Object.keys(containers).forEach(key => {
                    const container = containers[key];
                    const items = data[key] || [];
                    if (container) {
                         clearContainer(container);
                         if (items.length > 0) {
                             container.innerHTML = items.map(createIdpItemHTML).join('');
                         } else {
                             container.innerHTML = '<p class="text-sm text-gray-500">No activities suggested for this category.</p>';
                         }
                    }
                });

                showElement(elements.resultsEl);
                elements.resultsEl.classList.add('fade-in');
            }

            // --- Event Handlers ---
            async function handleGenerateIdpClick() {
                if (!elements.generateBtn || !elements.loadingEl || !elements.resultsEl) return;

                // Hide results immediately if they were previously visible
                elements.resultsEl.classList.remove('fade-in');
                hideElement(elements.resultsEl);
                
                showElement(elements.loadingEl);
                disableButton(elements.generateBtn);

                // Clear previous results visually after potential fade-out
                clearContainer(elements.content70);
                clearContainer(elements.content20);
                clearContainer(elements.content10);
                
                // Simulate API call to fetch and structure IDP data
                await simulateApiCall(SIMULATION_DELAY);
                
                // Process and display results
                hideElement(elements.loadingEl);
                displayIdpResults(MOCK_IDP_DATA); // Use mock data for demo
                enableButton(elements.generateBtn);
            }

            // --- Initialization ---
            function initialize() {
                if (!elements.generateBtn) {
                    console.error("Initialization failed: Generate IDP button not found.");
                    return;
                }

                elements.generateBtn.addEventListener('click', handleGenerateIdpClick);
                console.log("AI IDP Builder Demo Initialized");
            }

            // Run initialization when the DOM is ready
            document.addEventListener('DOMContentLoaded', initialize);

        })();
    </script>
</body>
</html> 